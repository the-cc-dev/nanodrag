!function(){var t={},e={};(function(n){var i,s=void 0!==n?n:"undefined"!=typeof window?window:{};"undefined"!=typeof document?i=document:(i=s["__GLOBAL_DOCUMENT_CACHE@4"])||(i=s["__GLOBAL_DOCUMENT_CACHE@4"]=t),e=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var n={};(function(t){var e;e="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},n=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var i,s={},r="undefined"!=typeof window,o=r&&window.requestIdleCallback,a=function t(e,n){n=n||s;var i;return o?(i=window.requestIdleCallback(function(i){if(i.timeRemaining()<=10&&!i.didTimeout)return t(e,n);e(i)},n),window.cancelIdleCallback.bind(window,i)):r?(i=setTimeout(e,0),clearTimeout.bind(window,i)):void 0},u=!0;try{i=window.performance,u="true"===window.localStorage.DISABLE_NANOTIMING||!i.mark}catch(t){}function h(t){t&&a(t)}var c=function(t,e,n){var i,s=t.length;if(!(e>=s||0===n)){var r=s-(n=e+n>s?s-e:n);for(i=e;i<r;++i)t[i]=t[i+n];t.length=r}},l=f;function f(t){if(!(this instanceof f))return new f(t);this._name=t||"nanobus",this._starListeners=[],this._listeners={}}f.prototype.emit=function(t){for(var e=[],n=1,s=arguments.length;n<s;n++)e.push(arguments[n]);var r=function(t){if(u)return h;var e=(1e4*i.now()).toFixed()%Number.MAX_SAFE_INTEGER,n="start-"+e+"-"+t;i.mark(n);function s(s){var r="end-"+e+"-"+t;i.mark(r),a(function(){var o=t+" ["+e+"]";i.measure(o,n,r),i.clearMarks(n),i.clearMarks(r),s&&s(t)})}return s.uuid=e,s}(this._name+"('"+t+"')"),o=this._listeners[t];return o&&o.length>0&&this._emit(this._listeners[t],e),this._starListeners.length>0&&this._emit(this._starListeners,t,e,r.uuid),r(),this},f.prototype.on=f.prototype.addListener=function(t,e){return"*"===t?this._starListeners.push(e):(this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)),this},f.prototype.prependListener=function(t,e){return"*"===t?this._starListeners.unshift(e):(this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].unshift(e)),this},f.prototype.once=function(t,e){var n=this;return this.on(t,function i(){e.apply(n,arguments),n.removeListener(t,i)}),this},f.prototype.prependOnceListener=function(t,e){var n=this;return this.prependListener(t,function i(){e.apply(n,arguments),n.removeListener(t,i)}),this},f.prototype.removeListener=function(t,e){return"*"===t?(this._starListeners=this._starListeners.slice(),n(this._starListeners,e)):(void 0!==this._listeners[t]&&(this._listeners[t]=this._listeners[t].slice()),n(this._listeners[t],e));function n(t,e){if(t){var n=t.indexOf(e);return-1!==n?(c(t,n,1),!0):void 0}}},f.prototype.removeAllListeners=function(t){return t?"*"===t?this._starListeners=[]:this._listeners[t]=[]:(this._starListeners=[],this._listeners={}),this},f.prototype.listeners=function(t){var e="*"!==t?this._listeners[t]:this._starListeners,n=[];if(e)for(var i=e.length,s=0;s<i;s++)n.push(e[s]);return n},f.prototype._emit=function(t,e,n,i){if(void 0!==t&&0!==t.length){void 0===n&&(n=e,e=null),e&&(n=void 0!==i?[e,i].concat(n):[e].concat(n));for(var s=t.length,r=0;r<s;r++){var o=t[r];o.apply(o,n)}}};const p={touchstart:"start",touchend:"end",touchmove:"move",mousedown:"start",mouseup:"end",mousemove:"move"},d=n.requestAnimationFrame||n.setTimeout;function _(t){if(!(this instanceof _))return new _(t);if(l.call(this),"string"==typeof t&&(t=e.querySelector(t)),!t)throw new Error("You must supply a valid selector or DOM Node");this.targetEl=t,this._active=!1,this._startX=null,this._startY=null,this._currentX=null,this._currentY=null,this._direction={x:"",y:""},Object.keys(p).forEach(t=>this.targetEl.addEventListener(t,this))}_.prototype=Object.create(l.prototype),_.prototype.handleEvent=function(t){const e=p[t.type],n=this._getPointerData(t);console.log("handling",e,n),this[`on${e}`](t,n)},_.prototype._getPointerData=function(t){return t.touches&&t.touches.length>0?t.touches[0]:{pageX:t.screenX+t.currentTarget.scrollLeft,pageY:t.screenY+t.currentTarget.scrollTop}},_.prototype.onstart=function(t,e){this._startX=e.pageX,this._startY=e.pageY,this._active=!0,this.emit("start",{start:{x:this._startX,y:this._startY}})},_.prototype.onend=function(t){const e={start:{x:this._startX,y:this._startY},end:{x:this._currentX,y:this._currentY}};this._active=!1,this.emit("end",e)},_.prototype.onmove=function(t,e){this._active&&(t.preventDefault(),d(()=>{this._currentX=e.pageX,this._currentY=e.pageY;const t={direction:this._getSwipeDirection(),start:{x:this._startX,y:this._startY},current:{x:this._currentX,y:this._currentY}};this.emit("move",t)}))},_.prototype.close=function(){Object.keys(p).forEach(t=>this.targetEl.removeEventListener(t,this)),this.removeAllListeners(),this._active=!1},_.prototype._getSwipeDirection=function(){const t=this._startX-this._currentX,e=this._startY-this._currentY;return{x:t>-1?"left":t<0?"right":"",y:e>-1?"up":e<0?"down":""}}}();