!function(){var t={},e={};(function(i){var n,s=void 0!==i?i:"undefined"!=typeof window?window:{};"undefined"!=typeof document?n=document:(n=s["__GLOBAL_DOCUMENT_CACHE@4"])||(n=s["__GLOBAL_DOCUMENT_CACHE@4"]=t),e=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var i={};(function(t){var e;e="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},i=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var n,s={},r="undefined"!=typeof window,o=r&&window.requestIdleCallback,a=function t(e,i){i=i||s;var n;return o?(n=window.requestIdleCallback(function(n){if(n.timeRemaining()<=10&&!n.didTimeout)return t(e,i);e(n)},i),window.cancelIdleCallback.bind(window,n)):r?(n=setTimeout(e,0),clearTimeout.bind(window,n)):void 0},h=!0;try{n=window.performance,h="true"===window.localStorage.DISABLE_NANOTIMING||!n.mark}catch(t){}function u(t){t&&a(t)}var l=function(t,e,i){var n,s=t.length;if(!(e>=s||0===i)){var r=s-(i=e+i>s?s-e:i);for(n=e;n<r;++n)t[n]=t[n+i];t.length=r}},c=f;function f(t){if(!(this instanceof f))return new f(t);this._name=t||"nanobus",this._starListeners=[],this._listeners={}}f.prototype.emit=function(t){for(var e=[],i=1,s=arguments.length;i<s;i++)e.push(arguments[i]);var r=function(t){if(h)return u;var e=(1e4*n.now()).toFixed()%Number.MAX_SAFE_INTEGER,i="start-"+e+"-"+t;n.mark(i);function s(s){var r="end-"+e+"-"+t;n.mark(r),a(function(){var o=t+" ["+e+"]";n.measure(o,i,r),n.clearMarks(i),n.clearMarks(r),s&&s(t)})}return s.uuid=e,s}(this._name+"('"+t+"')"),o=this._listeners[t];return o&&o.length>0&&this._emit(this._listeners[t],e),this._starListeners.length>0&&this._emit(this._starListeners,t,e,r.uuid),r(),this},f.prototype.on=f.prototype.addListener=function(t,e){return"*"===t?this._starListeners.push(e):(this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)),this},f.prototype.prependListener=function(t,e){return"*"===t?this._starListeners.unshift(e):(this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].unshift(e)),this},f.prototype.once=function(t,e){var i=this;return this.on(t,function n(){e.apply(i,arguments),i.removeListener(t,n)}),this},f.prototype.prependOnceListener=function(t,e){var i=this;return this.prependListener(t,function n(){e.apply(i,arguments),i.removeListener(t,n)}),this},f.prototype.removeListener=function(t,e){return"*"===t?(this._starListeners=this._starListeners.slice(),i(this._starListeners,e)):(void 0!==this._listeners[t]&&(this._listeners[t]=this._listeners[t].slice()),i(this._listeners[t],e));function i(t,e){if(t){var i=t.indexOf(e);return-1!==i?(l(t,i,1),!0):void 0}}},f.prototype.removeAllListeners=function(t){return t?"*"===t?this._starListeners=[]:this._listeners[t]=[]:(this._starListeners=[],this._listeners={}),this},f.prototype.listeners=function(t){var e="*"!==t?this._listeners[t]:this._starListeners,i=[];if(e)for(var n=e.length,s=0;s<n;s++)i.push(e[s]);return i},f.prototype._emit=function(t,e,i,n){if(void 0!==t&&0!==t.length){void 0===i&&(i=e,e=null),e&&(i=void 0!==n?[e,n].concat(i):[e].concat(i));for(var s=t.length,r=0;r<s;r++){var o=t[r];o.apply(o,i)}}};const p=300,d={touchstart:"start",touchend:"end",mousedown:"start",mouseup:"end",mouseleave:"end",mouseover:""},_={touchmove:"move",mousemove:"move"},v=i.requestAnimationFrame||i.setTimeout;function y(t,i){if(!(this instanceof y))return new y(t);if(c.call(this),"string"==typeof t&&(t=e.querySelector(t)),!t)throw new Error("You must supply a valid selector or DOM Node");i=i||{},this.targetEl=t,this._active=!1,this._startX=null,this._startY=null,this._currentX=null,this._currentY=null,this._direction={x:"",y:""},this._trackingDelay=i.trackingDelay||p,this._leaveTimer=null,this.preventDefault=!0,Object.keys(d).forEach(t=>this.targetEl.addEventListener(t,this,{passive:!0}))}y.prototype=Object.create(c.prototype),y.prototype.handleEvent=function(t){const e=d[t.type]||_[t.type],n=this._getPointerData(t),s=(this[`on${e}`]||(()=>{})).bind(this);"mouseleave"===t.type&&this._active?this._leaveTimer=i.setTimeout(()=>s(t,n),this._trackingDelay):(null!==this._leaveTimer&&(i.clearTimeout(this._leaveTimer),this._leaveTimer=null),s(t,n))},y.prototype._getPointerData=function(t){return t.touches&&t.touches.length>0?t.touches[0]:{pageX:t.screenX+t.currentTarget.scrollLeft,pageY:t.screenY+t.currentTarget.scrollTop}},y.prototype.onstart=function(t,e){this._startX=e.pageX,this._startY=e.pageY,this._active=!0,Object.keys(_).forEach(t=>this.targetEl.addEventListener(t,this)),this.emit("start",{start:{x:this._startX,y:this._startY}})},y.prototype.onend=function(t){if(this._active){const t={start:{x:this._startX,y:this._startY},end:{x:this._currentX,y:this._currentY}};Object.keys(_).forEach(t=>this.targetEl.removeEventListener(t,this)),this._active=!1,this.emit("end",t)}},y.prototype.onmove=function(t,e,i){this._active&&(this.preventDefault&&t.preventDefault(),v(()=>{this._currentX=e.pageX,this._currentY=e.pageY;const t={direction:this._getSwipeDirection(),start:{x:this._startX,y:this._startY},current:{x:this._currentX,y:this._currentY}};this.emit("move",t)}))},y.prototype.close=function(){Object.keys(d).forEach(t=>this.targetEl.removeEventListener(t,this)),this.removeAllListeners(),this._active=!1},y.prototype._getSwipeDirection=function(){const t=this._startX-this._currentX,e=this._startY-this._currentY;return{x:t>-1?"left":t<0?"right":"",y:e>-1?"up":e<0?"down":""}}}();