!function(){var t={},e={};(function(i){var s,n=void 0!==i?i:"undefined"!=typeof window?window:{};"undefined"!=typeof document?s=document:(s=n["__GLOBAL_DOCUMENT_CACHE@4"])||(s=n["__GLOBAL_DOCUMENT_CACHE@4"]=t),e=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var i={};(function(t){var e;e="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},i=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var s,n={},r="undefined"!=typeof window,o=r&&window.requestIdleCallback,a=function t(e,i){i=i||n;var s;return o?(s=window.requestIdleCallback(function(s){if(s.timeRemaining()<=10&&!s.didTimeout)return t(e,i);e(s)},i),window.cancelIdleCallback.bind(window,s)):r?(s=setTimeout(e,0),clearTimeout.bind(window,s)):void 0},h=!0;try{s=window.performance,h="true"===window.localStorage.DISABLE_NANOTIMING||!s.mark}catch(t){}function u(t){t&&a(t)}var c=function(t,e,i){var s,n=t.length;if(!(e>=n||0===i)){var r=n-(i=e+i>n?n-e:i);for(s=e;s<r;++s)t[s]=t[s+i];t.length=r}},l=p;function p(t){if(!(this instanceof p))return new p(t);this._name=t||"nanobus",this._starListeners=[],this._listeners={}}p.prototype.emit=function(t){for(var e=[],i=1,n=arguments.length;i<n;i++)e.push(arguments[i]);var r=function(t){if(h)return u;var e=(1e4*s.now()).toFixed()%Number.MAX_SAFE_INTEGER,i="start-"+e+"-"+t;s.mark(i);function n(n){var r="end-"+e+"-"+t;s.mark(r),a(function(){var o=t+" ["+e+"]";s.measure(o,i,r),s.clearMarks(i),s.clearMarks(r),n&&n(t)})}return n.uuid=e,n}(this._name+"('"+t+"')"),o=this._listeners[t];return o&&o.length>0&&this._emit(this._listeners[t],e),this._starListeners.length>0&&this._emit(this._starListeners,t,e,r.uuid),r(),this},p.prototype.on=p.prototype.addListener=function(t,e){return"*"===t?this._starListeners.push(e):(this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)),this},p.prototype.prependListener=function(t,e){return"*"===t?this._starListeners.unshift(e):(this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].unshift(e)),this},p.prototype.once=function(t,e){var i=this;return this.on(t,function s(){e.apply(i,arguments),i.removeListener(t,s)}),this},p.prototype.prependOnceListener=function(t,e){var i=this;return this.prependListener(t,function s(){e.apply(i,arguments),i.removeListener(t,s)}),this},p.prototype.removeListener=function(t,e){return"*"===t?(this._starListeners=this._starListeners.slice(),i(this._starListeners,e)):(void 0!==this._listeners[t]&&(this._listeners[t]=this._listeners[t].slice()),i(this._listeners[t],e));function i(t,e){if(t){var i=t.indexOf(e);return-1!==i?(c(t,i,1),!0):void 0}}},p.prototype.removeAllListeners=function(t){return t?"*"===t?this._starListeners=[]:this._listeners[t]=[]:(this._starListeners=[],this._listeners={}),this},p.prototype.listeners=function(t){var e="*"!==t?this._listeners[t]:this._starListeners,i=[];if(e)for(var s=e.length,n=0;n<s;n++)i.push(e[n]);return i},p.prototype._emit=function(t,e,i,s){if(void 0!==t&&0!==t.length){void 0===i&&(i=e,e=null),e&&(i=void 0!==s?[e,s].concat(i):[e].concat(i));for(var n=t.length,r=0;r<n;r++){var o=t[r];o.apply(o,i)}}};const _=300,f={touchstart:"start",touchend:"end",mousedown:"start",mouseup:"end",mouseleave:"end",mouseover:""},d={touchmove:"move",mousemove:"move"},v=i.requestAnimationFrame||i.setTimeout;function y(t,i){if(!(this instanceof y))return new y(t);if(l.call(this),"string"==typeof t&&(t=e.querySelector(t)),!t)throw new Error("You must supply a valid selector or DOM Node");i=i||{},this.targetEl=t,this._active=!1,this._startX=null,this._startY=null,this._currentX=null,this._currentY=null,this._direction={x:"",y:""},this._trackingDelay=i.trackingDelay||_,this._passiveMove=i.passive||!1,this._leaveTimer=null,this.preventDefault=!0,this._touchTriggered=!1,Object.keys(f).forEach(t=>this.targetEl.addEventListener(t,this,{passive:!0}))}y.prototype=Object.create(l.prototype),y.prototype.handleEvent=function(t){const e=f[t.type]||d[t.type],s=this._getPointerData(t),n=(this[`on${e}`]||(()=>{})).bind(this);t.type.startsWith("touch")&&(this._touchTriggered=!0),this._touchTriggered&&t.type.startsWith("mouse")||("mouseleave"===t.type&&this._active?this._leaveTimer=i.setTimeout(()=>n(t,s),this._trackingDelay):(null!==this._leaveTimer&&(i.clearTimeout(this._leaveTimer),this._leaveTimer=null),n(t,s)))},y.prototype._getPointerData=function(t){return t.touches&&t.touches.length>0?t.touches[0]:{pageX:t.screenX+t.currentTarget.scrollLeft,pageY:t.screenY+t.currentTarget.scrollTop}},y.prototype.onstart=function(t,e){this._active=!0,this._startX=e.pageX,this._startY=e.pageY,this._currentX=e.pageX,this._currentY=e.pageY,Object.keys(d).forEach(t=>{this.targetEl.addEventListener(t,this,{passive:this._passiveMove})}),this.emit("start",{start:{x:this._startX,y:this._startY}})},y.prototype.onend=function(t){if(this._active){const t={start:{x:this._startX,y:this._startY},end:{x:this._currentX,y:this._currentY}};Object.keys(d).forEach(t=>this.targetEl.removeEventListener(t,this)),this._active=!1,this.emit("end",t)}},y.prototype.onmove=function(t,e,i){this._active&&(!this._passiveMove&&this.preventDefault&&t.preventDefault(),v(()=>{this._currentX=e.pageX,this._currentY=e.pageY;const t={direction:this._getSwipeDirection(),start:{x:this._startX,y:this._startY},current:{x:this._currentX,y:this._currentY}};this.emit("move",t)}))},y.prototype.close=function(){Object.keys(f).forEach(t=>this.targetEl.removeEventListener(t,this)),this.removeAllListeners(),this._active=!1},y.prototype._getSwipeDirection=function(){const t=this._startX-this._currentX,e=this._startY-this._currentY;return{x:t>-1?"left":t<0?"right":"",y:e>-1?"up":e<0?"down":""}}}();